<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auctus Studio</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Main Container -->
    <div class="main-container">
        <!-- Activity Bar -->
        <div class="activity-bar">
            <div class="activity-icons">
                <div class="activity-icon active" data-view="explorer">
                    <i class="fas fa-folder"></i>
                </div>
                <div class="activity-icon" data-view="git">
                    <i class="fas fa-code-branch"></i>
                </div>
                <div class="activity-icon" data-view="extensions">
                    <i class="fas fa-th"></i>
                </div>
            </div>
            <div class="activity-icons-bottom">
                <div class="activity-icon">
                    <i class="fas fa-user"></i>
                </div>
                <div class="activity-icon">
                    <i class="fas fa-cog"></i>
                </div>
            </div>
        </div>

        <!-- Sidebar Container -->
        <div id="sidebar-container"></div>

        <!-- Editor Area -->
        <div class="editor-container">
            <div class="tabs">
                <div class="tab active" data-file="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </div>
                <!-- Services tab will be added dynamically if opened -->
            </div>
            <div class="editor-content">
                <div class="welcome-screen">
                    <div class="hero-section">
                        <div class="breadcrumb-path">
                            <span><i class="fas fa-home"></i> Welcome</span>
                        </div>
                        
                        <h1>Auctus Studio</h1>
                        <p class="hero-subtitle">AI-Powered Web Design & Development</p>
                        <p class="hero-description">Transform your vision into a stunning web presence. We blend breakthrough AI, immersive design, and precise automation to create websites that drive results.</p>
                        
                        <div class="hero-buttons">
                            <a href="contact.html" onclick="sessionStorage.setItem('contactTabOpen', 'true');" class="cta-button primary">
                                <i class="fas fa-rocket"></i> Get Started
                            </a>
                            <a href="#signin" class="cta-button secondary">
                                <i class="fas fa-sign-in-alt"></i> Sign In
                            </a>
                        </div>
                    </div>
                    
                    <div class="version-info">
                        <p>Auctus Studio v1.0.0 - Built for creators, by creators</p>
                    </div>
                </div>
                
                <div class="code-editor" style="display: none;">
                    <div class="line-numbers">
                        <div>1</div>
                        <div>2</div>
                        <div>3</div>
                        <div>4</div>
                        <div>5</div>
                    </div>
                    <div class="code-content">
                        <pre><code id="code-display"></code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-left">
            <span><i class="fas fa-code-branch"></i> main</span>
            <span><i class="fas fa-sync"></i> 0</span>
            <span><i class="fas fa-exclamation-triangle"></i> 0</span>
            <span><i class="fas fa-times-circle"></i> 0</span>
        </div>
        <div class="status-right">
            <span>Ln 1, Col 1</span>
            <span>Spaces: 4</span>
            <span>UTF-8</span>
            <span>JavaScript</span>
            <span><i class="fas fa-bell"></i></span>
        </div>
    </div>

    <script>
        // Load sidebar
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('sidebar-container').innerHTML = data;
                
                // Initialize after sidebar loads
                const sidebarCollapseBtn = document.getElementById('sidebar-collapse-btn');
                const sidebar = document.getElementById('sidebar');
                const activityIcons = document.querySelectorAll('.activity-icon[data-view]');
                
                // Store current active view
                let currentActiveView = sessionStorage.getItem('currentActiveView') || 'explorer';
                
                // Restore sidebar state from sessionStorage
                const sidebarOpen = sessionStorage.getItem('sidebarOpen') !== 'false';
                if (!sidebarOpen && sidebar) {
                    sidebar.classList.add('hidden');
                } else if (sidebarOpen) {
                    // Restore active icon when sidebar is open
                    const currentViewIcon = document.querySelector(`.activity-icon[data-view="${currentActiveView}"]`);
                    if (currentViewIcon) {
                        currentViewIcon.classList.add('active');
                    }
                }
                
                // Activity icon click handlers
                activityIcons.forEach(icon => {
                    icon.addEventListener('click', () => {
                        const view = icon.getAttribute('data-view');
                        
                        // Handle non-explorer icons - just switch active state, don't touch sidebar
                        if (view !== 'explorer') {
                            activityIcons.forEach(i => i.classList.remove('active'));
                            icon.classList.add('active');
                            currentActiveView = view;
                            sessionStorage.setItem('currentActiveView', view);
                            return;
                        }
                        
                        // Explorer icon behavior
                        const sidebarIsOpen = !sidebar.classList.contains('hidden');
                        const clickedActiveIcon = currentActiveView === view;
                        
                        if (clickedActiveIcon && sidebarIsOpen) {
                            sidebar.classList.add('hidden');
                            sessionStorage.setItem('sidebarOpen', 'false');
                            activityIcons.forEach(i => i.classList.remove('active'));
                        } else if (clickedActiveIcon && !sidebarIsOpen) {
                            sidebar.classList.remove('hidden');
                            sessionStorage.setItem('sidebarOpen', 'true');
                            icon.classList.add('active');
                        } else {
                            // Clicking explorer when another view is active - open sidebar
                            if (!sidebarIsOpen) {
                                sidebar.classList.remove('hidden');
                                sessionStorage.setItem('sidebarOpen', 'true');
                            }
                            activityIcons.forEach(i => i.classList.remove('active'));
                            icon.classList.add('active');
                            currentActiveView = view;
                            sessionStorage.setItem('currentActiveView', view);
                        }
                    });
                });
                
                // Collapse button handler
                if (sidebarCollapseBtn && sidebar) {
                    sidebarCollapseBtn.addEventListener('click', () => {
                        const wasOpen = !sidebar.classList.contains('hidden');
                        sidebar.classList.toggle('hidden');
                        const isOpen = !sidebar.classList.contains('hidden');
                        sessionStorage.setItem('sidebarOpen', isOpen);
                        
                        if (wasOpen && !isOpen) {
                            activityIcons.forEach(i => i.classList.remove('active'));
                        } else if (!wasOpen && isOpen) {
                            const currentViewIcon = document.querySelector(`.activity-icon[data-view="${currentActiveView}"]`);
                            if (currentViewIcon) {
                                currentViewIcon.classList.add('active');
                            }
                        }
                    });
                }
            });
        
        // Check if services tab should be displayed
        if (sessionStorage.getItem('servicesTabOpen') === 'true') {
            const tabsContainer = document.querySelector('.tabs');
            const servicesTab = document.createElement('div');
            servicesTab.className = 'tab';
            servicesTab.setAttribute('data-file', 'services');
            servicesTab.onclick = function() { window.location.href='services.html'; };
            servicesTab.innerHTML = `
                <i class="fas fa-briefcase"></i>
                <span>services.md</span>
                <i class="fas fa-times" onclick="event.stopPropagation(); sessionStorage.removeItem('servicesTabOpen'); this.parentElement.remove();" style="cursor: pointer;"></i>
            `;
            tabsContainer.appendChild(servicesTab);
        }
        
        // Check if pricing tab should be displayed
        if (sessionStorage.getItem('pricingTabOpen') === 'true') {
            const tabsContainer = document.querySelector('.tabs');
            const pricingTab = document.createElement('div');
            pricingTab.className = 'tab';
            pricingTab.setAttribute('data-file', 'pricing');
            pricingTab.onclick = function() { window.location.href='pricing.html'; };
            pricingTab.innerHTML = `
                <i class="fas fa-tag"></i>
                <span>pricing.md</span>
                <i class="fas fa-times" onclick="event.stopPropagation(); sessionStorage.removeItem('pricingTabOpen'); this.parentElement.remove();" style="cursor: pointer;"></i>
            `;
            tabsContainer.appendChild(pricingTab);
        }
        
        // Check if mission tab should be displayed
        if (sessionStorage.getItem('missionTabOpen') === 'true') {
            const tabsContainer = document.querySelector('.tabs');
            const missionTab = document.createElement('div');
            missionTab.className = 'tab';
            missionTab.setAttribute('data-file', 'mission');
            missionTab.onclick = function() { window.location.href='mission.html'; };
            missionTab.innerHTML = `
                <i class="fas fa-bullseye"></i>
                <span>about.md</span>
                <i class="fas fa-times" onclick="event.stopPropagation(); sessionStorage.removeItem('missionTabOpen'); this.parentElement.remove();" style="cursor: pointer;"></i>
            `;
            tabsContainer.appendChild(missionTab);
        }

        // Check if contact tab should be displayed
        if (sessionStorage.getItem('contactTabOpen') === 'true') {
            const tabsContainer = document.querySelector('.tabs');
            const contactTab = document.createElement('div');
            contactTab.className = 'tab';
            contactTab.setAttribute('data-file', 'contact');
            contactTab.onclick = function() { window.location.href='contact.html'; };
            contactTab.innerHTML = `
                <i class="fas fa-envelope"></i>
                <span>contact.html</span>
                <i class="fas fa-times" onclick="event.stopPropagation(); sessionStorage.removeItem('contactTabOpen'); this.parentElement.remove();" style="cursor: pointer;"></i>
            `;
            tabsContainer.appendChild(contactTab);
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
